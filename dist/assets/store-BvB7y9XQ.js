import{r as f,g as d}from"./vendor-gH-7aFTg.js";var j=f();const a=d(j),S=e=>{let t;const s=new Set,o=(n,i)=>{const c=typeof n=="function"?n(t):n;if(!Object.is(c,t)){const b=t;t=i??(typeof c!="object"||c===null)?c:Object.assign({},t,c),s.forEach(g=>g(t,b))}},r=()=>t,u={setState:o,getState:r,getInitialState:()=>l,subscribe:n=>(s.add(n),()=>s.delete(n))},l=t=e(o,r,u);return u},m=e=>e?S(e):S,x=e=>e;function I(e,t=x){const s=a.useSyncExternalStore(e.subscribe,a.useCallback(()=>t(e.getState()),[e,t]),a.useCallback(()=>t(e.getInitialState()),[e,t]));return a.useDebugValue(s),s}const p=e=>{const t=m(e),s=o=>I(t,o);return Object.assign(s,t),s},O=e=>p;export{O as c,j as r};
