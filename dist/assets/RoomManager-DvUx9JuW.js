import{j as e,u as X,a as Q,s as w,b as _}from"./index-PE50CR90.js";import{r as m}from"./store-D9DoIlTN.js";import"./vendor-gH-7aFTg.js";function z({player:t,className:x="",size:r="medium"}){const[h,n]=m.useState([]),[o,f]=m.useState(t.currentScore||0);m.useEffect(()=>{const c=t.currentScore||0,p=c-o;if(p!==0&&o!==void 0){const i={id:Date.now().toString(),points:p,type:p>0?"positive":"negative",timestamp:Date.now()};n(N=>[...N,i]),setTimeout(()=>{n(N=>N.filter(S=>S.id!==i.id))},2e3)}f(c)},[t.currentScore,o]);const a={small:"text-sm",medium:"text-base",large:"text-lg"},l=t.currentScore||0;return e.jsxs("div",{className:`relative inline-flex items-center space-x-2 ${x}`,children:[e.jsx("div",{className:`font-semibold ${a[r]} ${l>0?"text-cyan-400":"text-apple-secondary"}`,children:l}),e.jsx("div",{className:"absolute left-full ml-2 pointer-events-none",children:h.map(c=>e.jsxs("div",{className:`absolute whitespace-nowrap font-bold text-sm ${c.type==="positive"?"text-cyan-400":"text-red-400"} animate-score-float`,style:{animation:"scoreFloat 2s ease-out forwards",top:`${(h.length-h.indexOf(c)-1)*20}px`},children:[c.type==="positive"?"+":"",c.points]},c.id))})]})}function ee({players:t,currentPlayerId:x,className:r="",compact:h=!1}){const n=m.useMemo(()=>[...t].sort((a,l)=>{const c=a.currentScore||0,p=l.currentScore||0;return c!==p?p-c:a.name.localeCompare(l.name)}),[t]),o=n.length>0&&n[0].currentScore||0,f=n.filter(a=>(a.currentScore||0)===o&&o>0);return t.length===0?e.jsxs("div",{className:`apple-panel p-4 ${r}`,children:[e.jsx("h3",{className:"text-sm font-medium text-apple-secondary mb-2",children:"Leaderboard"}),e.jsx("p",{className:"text-xs text-apple-tertiary",children:"No players yet"})]}):h?e.jsxs("div",{className:`space-y-2 ${r}`,children:[e.jsxs("h3",{className:"text-sm font-medium text-apple-secondary mb-2",children:["Leaderboard (",t.length,")"]}),e.jsxs("div",{className:"space-y-1",children:[n.slice(0,5).map((a,l)=>{const c=f.some(i=>i.id===a.id),p=a.id===x;return e.jsxs("div",{className:`flex items-center justify-between px-3 py-2 rounded-lg text-sm ${p?"bg-apple-accent/20 border border-apple-accent/30":"bg-apple-darkest"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2 flex-1 min-w-0",children:[e.jsxs("span",{className:`text-xs font-medium w-6 text-center ${l<3?"text-yellow-400":"text-apple-secondary"}`,children:["#",l+1]}),c&&e.jsx("span",{className:"text-yellow-400 text-sm crown-animate",title:"Current Leader",children:"üëë"}),e.jsx("span",{className:`font-medium truncate ${p?"text-apple-accent":"text-apple-text"}`,children:a.name}),p&&e.jsx("span",{className:"text-xs text-apple-accent",children:"(You)"})]}),e.jsx(z,{player:a,size:"small"})]},a.id)}),n.length>5&&e.jsxs("div",{className:"text-xs text-apple-tertiary text-center pt-1",children:["+",n.length-5," more players"]})]})]}):e.jsxs("div",{className:`apple-panel p-6 ${r}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h2",{className:"text-lg font-semibold text-apple-text",children:"Leaderboard"}),e.jsxs("span",{className:"text-sm text-apple-secondary",children:[t.length," ",t.length===1?"Player":"Players"]})]}),e.jsx("div",{className:"space-y-3",children:n.map((a,l)=>{const c=f.some(i=>i.id===a.id),p=a.id===x;return e.jsxs("div",{className:`flex items-center justify-between p-4 rounded-lg transition-colors ${p?"bg-apple-accent/20 border border-apple-accent/30":"bg-apple-darkest hover:bg-apple-hover"}`,children:[e.jsxs("div",{className:"flex items-center space-x-4 flex-1 min-w-0",children:[e.jsx("div",{className:`flex items-center justify-center w-8 h-8 rounded-full font-bold text-sm ${l===0?"bg-yellow-500 text-black":l===1?"bg-gray-400 text-black":l===2?"bg-amber-600 text-black":"bg-apple-border text-apple-text"}`,children:l+1}),c&&e.jsx("div",{className:"flex items-center",children:e.jsx("span",{className:"text-xl crown-animate",title:"Current Leader",children:"üëë"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`font-semibold truncate ${p?"text-apple-accent":"text-apple-text"}`,children:a.name}),a.isHost&&e.jsx("span",{className:"text-yellow-400 text-xs font-medium px-2 py-1 bg-yellow-900/20 rounded-full",children:"Host"}),p&&e.jsx("span",{className:"text-apple-accent text-xs font-medium px-2 py-1 bg-apple-accent/20 rounded-full",children:"You"})]}),e.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${a.isConnected?"bg-green-400":"bg-red-400"}`}),e.jsx("span",{className:"text-xs text-apple-secondary",children:a.isConnected?"Online":"Offline"})]})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(z,{player:a,size:"large"}),e.jsx("span",{className:"text-xs text-apple-secondary",children:"pts"})]})]},a.id)})}),o>0&&e.jsxs("div",{className:"mt-6 pt-4 border-t border-apple-border",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs text-apple-secondary",children:[e.jsx("span",{children:"Game Progress"}),e.jsxs("span",{children:[o," points to lead"]})]}),e.jsx("div",{className:"mt-2 bg-apple-darker rounded-full h-2 overflow-hidden",children:e.jsx("div",{className:"h-full bg-gradient-to-r from-cyan-500 to-cyan-400 transition-all duration-500",style:{width:`${Math.min(o/25*100,100)}%`}})})]})]})}const F=t=>t==="single"?"‚è±Ô∏è":"‚ôæÔ∏è",H=t=>t==="single"?"text-blue-400":"text-green-400",se=(t,x=12)=>t.length>x?`${t.substring(0,x)}...`:t;function te({rooms:t,activeRoomCode:x,onRoomChange:r,onRoomClose:h}){const n=Object.entries(t);return n.length===0?null:n.length===1?e.jsx("div",{className:"border-b border-apple-border bg-apple-darkest",children:e.jsx("div",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`text-sm ${H(n[0][1].room.roomType)}`,children:F(n[0][1].room.roomType)}),e.jsx("span",{className:"text-sm font-medium text-apple-text",children:n[0][1].room.name}),e.jsx("span",{className:"text-xs text-apple-secondary font-mono bg-apple-darkest px-2 py-1 rounded",children:n[0][1].room.code})]})})}):e.jsxs("div",{className:"border-b border-apple-border bg-apple-darkest",children:[e.jsxs("div",{className:"flex overflow-x-auto scrollbar-hide",children:[n.map(([o,f])=>{const a=x===o,{room:l}=f;return e.jsxs("div",{className:`
                group relative flex items-center space-x-2 px-4 py-3 cursor-pointer
                border-b-2 transition-all duration-200 flex-shrink-0 min-w-0
                ${a?"border-apple-accent bg-apple-accent/5":"border-transparent hover:bg-apple-darkest/80"}
              `,onClick:()=>r(o),children:[e.jsx("span",{className:`text-sm flex-shrink-0 ${H(l.roomType)}`,children:F(l.roomType)}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsxs("span",{className:`text-sm font-medium truncate ${a?"text-apple-accent":"text-apple-text"}`,children:[e.jsx("span",{className:"hidden sm:inline",children:l.name}),e.jsx("span",{className:"sm:hidden",children:se(l.name)})]}),e.jsx("span",{className:`text-xs font-mono px-2 py-1 rounded flex-shrink-0 ${a?"bg-apple-accent/20 text-apple-accent":"bg-apple-darkest text-apple-secondary"}`,children:l.code})]}),e.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[e.jsx("div",{className:`w-1 h-1 rounded-full ${l.players.some(c=>c.isConnected)?"bg-green-400":"bg-apple-secondary"}`}),e.jsxs("span",{className:"text-xs text-apple-secondary",children:[l.players.length," player",l.players.length!==1?"s":""]})]})]}),e.jsx("button",{onClick:c=>{c.stopPropagation(),h(o)},className:`
                  w-5 h-5 rounded-full flex items-center justify-center flex-shrink-0
                  transition-all duration-200 opacity-0 group-hover:opacity-100
                  hover:bg-red-500/20 hover:text-red-400
                  ${a?"opacity-100":""}
                `,title:"Leave room",children:e.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),a&&e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-0.5 bg-apple-accent"})]},o)}),e.jsx("div",{className:"flex-shrink-0 border-l border-apple-border/50",children:e.jsxs("button",{className:`
              h-full px-4 py-3 text-apple-secondary hover:text-apple-accent
              hover:bg-apple-darkest/80 transition-all duration-200
              flex items-center space-x-2
            `,title:"Create or join another room",onClick:()=>{},children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),e.jsx("span",{className:"text-sm font-medium hidden lg:inline",children:"Add Room"})]})})]}),e.jsx("div",{className:"sm:hidden flex justify-center py-1",children:e.jsx("div",{className:"flex space-x-1",children:n.map(([o])=>e.jsx("div",{className:`w-1 h-1 rounded-full transition-colors ${x===o?"bg-apple-accent":"bg-apple-border"}`},o))})})]})}function ae({selectedType:t,onTypeChange:x,disabled:r=!1,compact:h}){const[n,o]=m.useState(!1);return m.useEffect(()=>{if(h!==void 0){o(h);return}const f=()=>{o(window.innerWidth>=768)};return f(),window.addEventListener("resize",f),()=>window.removeEventListener("resize",f)},[h]),n?e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-medium text-apple-secondary",children:"Room Type"}),e.jsxs("div",{className:`
          flex rounded-lg border border-apple-border bg-apple-darkest overflow-hidden
          ${r?"opacity-50 cursor-not-allowed":""}
        `,children:[e.jsxs("button",{onClick:()=>!r&&x("single"),disabled:r,className:`
              room-type-compact-button flex-1 flex items-center justify-center px-3 py-2.5 text-sm font-medium 
              transition-all duration-200 relative overflow-hidden
              ${t==="single"?"text-white room-type-selected-gradient shadow-sm":"text-apple-secondary hover:text-apple-text hover:bg-apple-hover"}
              ${r?"cursor-not-allowed opacity-50":"cursor-pointer"}
            `,children:[e.jsx("span",{className:"text-base mr-2",children:"‚è±Ô∏è"}),"Meeting"]}),e.jsxs("button",{onClick:()=>!r&&x("persistent"),disabled:r,className:`
              room-type-compact-button flex-1 flex items-center justify-center px-3 py-2.5 text-sm font-medium 
              transition-all duration-200 relative overflow-hidden border-l border-apple-border
              ${t==="persistent"?"text-white room-type-selected-gradient shadow-sm":"text-apple-secondary hover:text-apple-text hover:bg-apple-hover"}
              ${r?"cursor-not-allowed opacity-50":"cursor-pointer"}
            `,children:[e.jsx("span",{className:"text-base mr-2",children:"‚ôæÔ∏è"}),"Continuous"]})]}),e.jsx("p",{className:"text-xs text-apple-secondary leading-relaxed",children:t==="single"?"One-time meeting room that auto-expires after 24 hours":"Continuous room that stays open indefinitely"})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsx("label",{className:"block text-sm font-medium text-apple-secondary mb-2",children:"Room Type"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:`
            relative p-4 rounded-lg border cursor-pointer transition-all duration-200
            ${t==="single"?"border-cyan-500 bg-cyan-500/10":"border-apple-border bg-apple-darkest hover:bg-apple-darkest/80"}
            ${r?"opacity-50 cursor-not-allowed":""}
          `,onClick:()=>!r&&x("single"),children:[e.jsx("div",{className:`
            absolute top-3 right-3 w-4 h-4 rounded-full border-2 transition-all
            ${t==="single"?"border-cyan-500 bg-cyan-500":"border-apple-border bg-transparent"}
          `,children:t==="single"&&e.jsx("div",{className:"w-full h-full rounded-full bg-white scale-50 transform"})}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500/20 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-lg",children:"‚è±Ô∏è"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-apple-text text-sm mb-1",children:"Meeting"}),e.jsx("p",{className:"text-xs text-apple-secondary leading-relaxed",children:"One-time use for specific meetings. Auto-expires after 24 hours or 2 hours of inactivity."}),e.jsxs("div",{className:"mt-2 flex items-center space-x-2 text-xs text-apple-secondary",children:[e.jsx("span",{className:"px-2 py-1 bg-blue-500/20 rounded text-blue-400 font-mono",children:"A4B7"}),e.jsx("span",{children:"‚Ä¢"}),e.jsx("span",{children:"Perfect for one-off meetings"})]})]})]})]}),e.jsxs("div",{className:`
            relative p-4 rounded-lg border cursor-pointer transition-all duration-200
            ${t==="persistent"?"border-cyan-500 bg-cyan-500/10":"border-apple-border bg-apple-darkest hover:bg-apple-darkest/80"}
            ${r?"opacity-50 cursor-not-allowed":""}
          `,onClick:()=>!r&&x("persistent"),children:[e.jsx("div",{className:`
            absolute top-3 right-3 w-4 h-4 rounded-full border-2 transition-all
            ${t==="persistent"?"border-cyan-500 bg-cyan-500":"border-apple-border bg-transparent"}
          `,children:t==="persistent"&&e.jsx("div",{className:"w-full h-full rounded-full bg-white scale-50 transform"})}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-8 h-8 bg-green-500/20 rounded-lg flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-lg",children:"‚ôæÔ∏è"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h3",{className:"font-semibold text-apple-text text-sm mb-1",children:"Continuous"}),e.jsx("p",{className:"text-xs text-apple-secondary leading-relaxed",children:"Long-running room that stays open indefinitely. Perfect for ongoing games."}),e.jsxs("div",{className:"mt-2 flex items-center space-x-2 text-xs text-apple-secondary",children:[e.jsx("span",{className:"px-2 py-1 bg-green-500/20 rounded text-green-400 font-mono",children:"X9K2"}),e.jsx("span",{children:"‚Ä¢"}),e.jsx("span",{children:"Never expires"})]})]})]})]})]}),e.jsx("div",{className:"mt-3 p-3 bg-apple-darkest/50 rounded-lg",children:t==="single"?e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[e.jsx("span",{className:"w-1 h-1 bg-blue-400 rounded-full"}),e.jsx("span",{className:"text-apple-secondary",children:"Room automatically expires after 24 hours or 2 hours of inactivity"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[e.jsx("span",{className:"w-1 h-1 bg-blue-400 rounded-full"}),e.jsx("span",{className:"text-apple-secondary",children:"Perfect for one-time meetings, workshops, or events"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[e.jsx("span",{className:"w-1 h-1 bg-blue-400 rounded-full"}),e.jsx("span",{className:"text-apple-secondary",children:"Scores reset with each new game session"})]})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[e.jsx("span",{className:"w-1 h-1 bg-green-400 rounded-full"}),e.jsx("span",{className:"text-apple-secondary",children:"Room stays open indefinitely - never expires"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[e.jsx("span",{className:"w-1 h-1 bg-green-400 rounded-full"}),e.jsx("span",{className:"text-apple-secondary",children:"Maintains game state and player progress over time"})]}),e.jsxs("div",{className:"flex items-center space-x-2 text-xs",children:[e.jsx("span",{className:"w-1 h-1 bg-green-400 rounded-full"}),e.jsx("span",{className:"text-apple-secondary",children:"Perfect for continuous play and long-term games"})]})]})})]})}function oe(){const[t,x]=m.useState(""),[r,h]=m.useState(""),[n,o]=m.useState(""),[f,a]=m.useState("single"),[l,c]=m.useState(!1),[p,i]=m.useState(""),[N,S]=m.useState({}),[q,k]=m.useState(!1),{playerName:j,isConnecting:g,isConnected:R,connectionError:P,setPlayerName:G}=X(),{rooms:E,activeRoomCode:$,currentPlayer:y,createRoom:J,joinRoom:K,leaveRoom:A,setActiveRoom:Y,getActiveRoom:W,cleanupExpiredRooms:M}=Q(),d=W()?.room||null,v=Object.keys(E).length>0;m.useEffect(()=>{!n&&j&&o(j)},[j,n]),m.useEffect(()=>{const u=new URLSearchParams(window.location.search).get("join");u&&!v&&j&&(h(u.toUpperCase()),window.history.replaceState({},"",window.location.pathname),w(`Joining room ${u.toUpperCase()}...`,"info"))},[v,j]),m.useEffect(()=>{const s=setInterval(()=>{M()},3e5);return()=>clearInterval(s)},[M]),m.useEffect(()=>{if(!d?.players)return;d.players.forEach(u=>{const C=u.currentScore||0,L=N[u.id]||0,b=C-L;if(b!==0&&L!==void 0&&N[u.id]!==void 0)if(u.id===y?.id){const O=Z(b);_(b,O)}else b>0&&w(`${u.name} scored ${b} points!`,void 0,"success")});const s={};d.players.forEach(u=>{s[u.id]=u.currentScore||0}),S(s)},[d?.players,y?.id,N]);const Z=s=>s===10?"Square verified!":s===50?"3-in-a-row bonus!":s===100?"4-in-a-row bonus!":s===200?"BINGO achieved!":s===-50?"Self-claim penalty":s>0?`+${s} points earned`:`${s} points penalty`,D=s=>{const u=s.trim().toUpperCase();return/^[A-Z0-9]{4}$/.test(u)||/^[A-Z0-9]{6}$/.test(u)||/^(MTG|TEAM)-[A-Z0-9]{4}$/.test(u)},T=()=>{const s=n.trim();s.length>=2&&s.length<=30?(G(s),i("")):i("Name must be 2-30 characters")},I=async()=>{if(!t.trim()){i("Room name is required");return}if(!j){i("Set your name first");return}i("");const s=await J(t.trim(),j,f);s.success?(x(""),c(!1)):i(s.error||"Could not create room")},U=async()=>{if(!r.trim()){i("Room code is required");return}if(!D(r)){i("Enter a 4-character room code");return}if(!j){i("Set your name first");return}i("");const s=await K(r.toUpperCase(),j);s.success?h(""):i(s.error||"Could not join room")},B=s=>{s?A(s):$&&A($),i("")},V=async s=>{const C=`${window.location.origin}?join=${s}`;try{await navigator.clipboard.writeText(C),k(!0),w("Invite link copied! Share with your team.","success"),setTimeout(()=>k(!1),2e3)}catch{const b=document.createElement("textarea");b.value=C,b.style.position="fixed",b.style.left="-9999px",document.body.appendChild(b),b.select();try{document.execCommand("copy"),k(!0),w("Invite link copied! Share with your team.","success"),setTimeout(()=>k(!1),2e3)}catch{w("Failed to copy link. Please copy manually.","error")}finally{document.body.removeChild(b)}}};return e.jsxs("div",{className:"flex flex-col h-full",children:[v&&e.jsx(te,{rooms:E,activeRoomCode:$,onRoomChange:Y,onRoomClose:B}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[(p||P)&&e.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-red-500"}),e.jsx("p",{className:"text-red-300 text-sm font-medium",children:p||P})]})}),!j&&e.jsxs("div",{className:"apple-panel p-4 bg-yellow-900/10 border-yellow-500/30",children:[e.jsx("h2",{className:"text-lg font-semibold text-apple-text mb-2",children:"Player Setup"}),e.jsx("p",{className:"text-apple-secondary text-sm mb-3",children:"Set your name to continue"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"text",value:n,onChange:s=>o(s.target.value),className:"apple-input w-full",placeholder:"Your name",maxLength:30,onKeyPress:s=>s.key==="Enter"&&T()}),e.jsx("button",{onClick:T,disabled:!n.trim()||g,className:"apple-button w-full justify-center",children:"Set Name"})]})]}),d&&e.jsxs("div",{className:"apple-panel p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:`text-base ${d.roomType==="single"?"text-blue-400":"text-green-400"}`,children:d.roomType==="single"?"‚è±Ô∏è":"‚ôæÔ∏è"}),e.jsx("h2",{className:"text-base font-semibold text-apple-text",children:"Current Room"}),e.jsx("span",{className:`px-2 py-0.5 text-xs rounded font-medium ${d.roomType==="single"?"bg-blue-500/20 text-blue-400":"bg-green-500/20 text-green-400"}`,children:d.roomType==="single"?"Meeting":"Team"})]}),e.jsx("button",{onClick:()=>B(),disabled:g,className:"px-3 py-1.5 bg-red-600 hover:bg-red-700 disabled:bg-apple-darkest disabled:cursor-not-allowed text-white rounded-md font-medium transition-colors text-xs",children:"Leave"})]}),e.jsxs("div",{className:"mb-3",children:[e.jsx("p",{className:"text-apple-accent font-medium text-base",children:d.name}),d.roomType==="single"&&d.expiresAt&&e.jsxs("p",{className:"text-xs text-apple-secondary mt-0.5",children:["Expires: ",new Date(d.expiresAt).toLocaleDateString()," at"," ",new Date(d.expiresAt).toLocaleTimeString()]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2 text-sm",children:[e.jsxs("div",{className:"col-span-2",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-apple-secondary",children:"Room Code"}),e.jsx("span",{className:"font-mono text-apple-accent bg-apple-darkest px-2 py-0.5 rounded text-sm",children:d.code})]}),e.jsx("button",{onClick:()=>V(d.code),className:"w-full px-3 py-2 bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-700 hover:to-blue-700 text-white text-xs font-medium rounded-lg transition-all duration-200 flex items-center justify-center gap-2",children:q?e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"‚úì"}),e.jsx("span",{children:"Link Copied!"})]}):e.jsxs(e.Fragment,{children:[e.jsx("span",{children:"üîó"}),e.jsx("span",{children:"Copy Invite Link"})]})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-apple-secondary text-xs",children:"Players"}),e.jsxs("span",{className:"text-apple-text text-xs",children:[d.players.length,"/",d.maxPlayers||10]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-apple-secondary text-xs",children:"Status"}),e.jsxs("div",{className:`flex items-center space-x-1 ${R?"text-green-400":"text-red-400"}`,children:[e.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${R?"bg-green-400":"bg-red-400"}`}),e.jsx("span",{className:"text-xs",children:R?"Connected":"Offline"})]})]}),e.jsxs("div",{className:"col-span-2 flex items-center justify-between",children:[e.jsx("span",{className:"text-apple-secondary text-xs",children:"Your Name"}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx("span",{className:"text-apple-text text-xs",children:y?.name}),y?.isHost&&e.jsx("span",{className:"text-yellow-400 text-xs",children:"(Host)"})]})]})]}),e.jsx("div",{className:"mt-4 pt-3 border-t border-apple-border",children:e.jsx(ee,{players:d.players,currentPlayerId:y?.id,compact:!0})})]}),(!v||l)&&j&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"apple-panel p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsx("h2",{className:"text-base font-semibold text-apple-text",children:"Create Room"}),v&&e.jsx("button",{onClick:()=>c(!1),className:"text-apple-secondary hover:text-apple-text transition-colors",children:e.jsx("svg",{className:"w-4 h-4",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(ae,{selectedType:f,onTypeChange:a,disabled:g,compact:!0}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-apple-secondary mb-2",children:"Room Name"}),e.jsx("input",{type:"text",value:t,onChange:s=>x(s.target.value),className:"apple-input w-full",placeholder:f==="single"?"Meeting name":"Team name",maxLength:50,disabled:g,onKeyPress:s=>s.key==="Enter"&&I()})]}),e.jsx("button",{onClick:I,disabled:!t.trim()||g,className:"apple-button w-full justify-center bg-emerald-600 hover:bg-emerald-700",children:`Create ${f==="single"?"Meeting":"Team"} Room`})]})]}),e.jsxs("div",{className:"apple-panel p-4",children:[e.jsx("h2",{className:"text-base font-semibold text-apple-text mb-3",children:"Join Room"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-apple-secondary mb-2",children:"Room Code"}),e.jsx("input",{type:"text",value:r,onChange:s=>h(s.target.value.toUpperCase()),className:"apple-input w-full text-center font-mono tracking-wider",placeholder:"e.g. A1B2",maxLength:4,disabled:g,onKeyPress:s=>s.key==="Enter"&&U()}),e.jsx("p",{className:"text-xs text-apple-secondary mt-1",children:"Enter the 4-character room code"})]}),e.jsx("button",{onClick:U,disabled:!r.trim()||g,className:"apple-button w-full justify-center",children:"Join Room"})]})]})]}),v&&!l&&j&&e.jsx("div",{className:"apple-panel p-4",children:e.jsxs("button",{onClick:()=>c(!0),className:"apple-button w-full justify-center bg-emerald-600 hover:bg-emerald-700",children:[e.jsx("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"Create Another Room"]})}),!v&&e.jsxs("div",{className:"apple-panel p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-apple-text mb-4",children:"Game Features"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-apple-accent/20 rounded-full flex items-center justify-center mx-auto mb-2",children:e.jsx("span",{className:"text-xl",children:"üéØ"})}),e.jsx("h3",{className:"font-medium text-apple-text text-sm mb-1",children:"Unique Boards"}),e.jsx("p",{className:"text-xs text-apple-secondary",children:"Unique cards for each player"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-apple-accent/20 rounded-full flex items-center justify-center mx-auto mb-2",children:e.jsx("span",{className:"text-xl",children:"‚ö°"})}),e.jsx("h3",{className:"font-medium text-apple-text text-sm mb-1",children:"Real-time"}),e.jsx("p",{className:"text-xs text-apple-secondary",children:"Instant synchronization"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-apple-accent/20 rounded-full flex items-center justify-center mx-auto mb-2",children:e.jsx("span",{className:"text-xl",children:"‚è±Ô∏è"})}),e.jsx("h3",{className:"font-medium text-apple-text text-sm mb-1",children:"Meeting Rooms"}),e.jsx("p",{className:"text-xs text-apple-secondary",children:"Auto-expire after meetings"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-apple-accent/20 rounded-full flex items-center justify-center mx-auto mb-2",children:e.jsx("span",{className:"text-xl",children:"‚ôæÔ∏è"})}),e.jsx("h3",{className:"font-medium text-apple-text text-sm mb-1",children:"Team Rooms"}),e.jsx("p",{className:"text-xs text-apple-secondary",children:"Persistent with leaderboards"})]})]})]})]})]})}export{oe as RoomManager};
