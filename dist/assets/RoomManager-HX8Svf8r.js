import{u as k,j as e}from"./index-Ar-PBxr-.js";import{r as i}from"./store-BvB7y9XQ.js";import"./vendor-gH-7aFTg.js";function U(){const[d,x]=i.useState(""),[r,p]=i.useState(""),[c,h]=i.useState(""),[u,t]=i.useState(""),{currentRoom:a,currentPlayer:m,playerName:l,isConnecting:n,isConnected:o,connectionError:j,setPlayerName:y,createRoom:v,joinRoom:g,leaveRoom:w}=k();i.useEffect(()=>{!c&&l&&h(l)},[l,c]);const C=s=>{const S=s.trim().toUpperCase();return/^[A-Z0-9]{6}$/.test(S)},N=()=>{const s=c.trim();s.length>=2&&s.length<=30?(y(s),t("")):t("Name must be 2-30 characters")},f=async()=>{if(!d.trim()){t("Room name is required");return}if(!l){t("Set your name first");return}t("");const s=await v(d.trim());s.success?x(""):t(s.error||"Could not create room")},b=async()=>{if(!r.trim()){t("Room code is required");return}if(!C(r)){t("Code must be 6 characters");return}if(!l){t("Set your name first");return}t("");const s=await g(r.toUpperCase());s.success?p(""):t(s.error||"Could not join room")},R=()=>{w(),t("")};return e.jsxs("div",{className:"p-6 space-y-6",children:[(u||j)&&e.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-4 h-4 rounded-full bg-red-500"}),e.jsx("p",{className:"text-red-300 text-sm font-medium",children:u||j})]})}),!l&&e.jsxs("div",{className:"apple-panel p-6 bg-yellow-900/10 border-yellow-500/30",children:[e.jsx("h2",{className:"text-lg font-semibold text-apple-text mb-3",children:"Player Setup"}),e.jsx("p",{className:"text-apple-secondary text-sm mb-4",children:"Set your name to continue"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"text",value:c,onChange:s=>h(s.target.value),className:"apple-input w-full",placeholder:"Your name",maxLength:30,onKeyPress:s=>s.key==="Enter"&&N()}),e.jsx("button",{onClick:N,disabled:!c.trim()||n,className:"apple-button w-full justify-center",children:"Set Name"})]})]}),a&&e.jsxs("div",{className:"apple-panel p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-lg font-semibold text-apple-text",children:"Current Room"}),e.jsx("p",{className:"text-apple-accent font-medium text-lg",children:a.name})]}),e.jsx("button",{onClick:R,disabled:n,className:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-apple-darkest disabled:cursor-not-allowed text-white rounded-md font-medium transition-colors text-sm",children:"Leave"})]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-apple-secondary",children:"Room Code"}),e.jsx("span",{className:"font-mono text-apple-accent bg-apple-darkest px-3 py-1 rounded-md text-base",children:a.code})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-apple-secondary",children:"Players"}),e.jsxs("span",{className:"text-apple-text",children:[a.players.length,"/",a.maxPlayers||10]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-apple-secondary",children:"Your Name"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-apple-text",children:m?.name}),m?.isHost&&e.jsx("span",{className:"text-yellow-400 text-xs",children:"(Host)"})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-apple-secondary",children:"Status"}),e.jsxs("div",{className:`flex items-center space-x-2 ${o?"text-green-400":"text-red-400"}`,children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${o?"bg-green-400":"bg-red-400"}`}),e.jsx("span",{className:"text-xs",children:o?"Connected":"Offline"})]})]})]}),e.jsxs("div",{className:"mt-6 pt-4 border-t border-apple-border",children:[e.jsxs("h3",{className:"text-sm font-medium text-apple-secondary mb-3",children:["Players (",a.players.length,")"]}),e.jsx("div",{className:"space-y-2",children:a.players.map(s=>e.jsxs("div",{className:"flex items-center justify-between bg-apple-darkest rounded-lg p-3",children:[e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("span",{className:"text-apple-text font-medium text-sm",children:s.name}),s.isHost&&e.jsx("span",{className:"text-yellow-400 text-xs",children:"(Host)"}),s.id===m?.id&&e.jsx("span",{className:"text-apple-accent text-xs",children:"(You)"})]}),e.jsxs("div",{className:"text-xs text-apple-secondary",children:["Score: ",s.currentScore||0]})]}),e.jsx("div",{className:`w-2 h-2 rounded-full ${s.isConnected?"bg-green-400":"bg-apple-secondary"}`})]},s.id))})]})]}),!a&&l&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"apple-panel p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-apple-text mb-4",children:"Create Room"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-apple-secondary mb-2",children:"Room Name"}),e.jsx("input",{type:"text",value:d,onChange:s=>x(s.target.value),className:"apple-input w-full",placeholder:"Meeting name",maxLength:50,disabled:n,onKeyPress:s=>s.key==="Enter"&&f()})]}),e.jsx("button",{onClick:f,disabled:!d.trim()||n,className:"apple-button w-full justify-center bg-emerald-600 hover:bg-emerald-700",children:"Create Room"})]})]}),e.jsxs("div",{className:"apple-panel p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-apple-text mb-4",children:"Join Room"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-apple-secondary mb-2",children:"Room Code"}),e.jsx("input",{type:"text",value:r,onChange:s=>p(s.target.value.toUpperCase()),className:"apple-input w-full text-center font-mono tracking-wider text-lg",placeholder:"ROOM123",maxLength:6,disabled:n,onKeyPress:s=>s.key==="Enter"&&b()})]}),e.jsx("button",{onClick:b,disabled:!r.trim()||n,className:"apple-button w-full justify-center",children:"Join Room"})]})]})]}),!a&&e.jsxs("div",{className:"apple-panel p-6",children:[e.jsx("h2",{className:"text-lg font-semibold text-apple-text mb-4",children:"Game Features"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-apple-accent/20 rounded-full flex items-center justify-center mx-auto mb-2",children:e.jsx("span",{className:"text-xl",children:"üéØ"})}),e.jsx("h3",{className:"font-medium text-apple-text text-sm mb-1",children:"Unique Boards"}),e.jsx("p",{className:"text-xs text-apple-secondary",children:"Unique cards for each player"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-apple-accent/20 rounded-full flex items-center justify-center mx-auto mb-2",children:e.jsx("span",{className:"text-xl",children:"‚ö°"})}),e.jsx("h3",{className:"font-medium text-apple-text text-sm mb-1",children:"Real-time"}),e.jsx("p",{className:"text-xs text-apple-secondary",children:"Instant synchronization"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-apple-accent/20 rounded-full flex items-center justify-center mx-auto mb-2",children:e.jsx("span",{className:"text-xl",children:"üîï"})}),e.jsx("h3",{className:"font-medium text-apple-text text-sm mb-1",children:"Silent Mode"}),e.jsx("p",{className:"text-xs text-apple-secondary",children:"Play without interrupting"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-apple-accent/20 rounded-full flex items-center justify-center mx-auto mb-2",children:e.jsx("span",{className:"text-xl",children:"üåê"})}),e.jsx("h3",{className:"font-medium text-apple-text text-sm mb-1",children:"Global"}),e.jsx("p",{className:"text-xs text-apple-secondary",children:"Low latency worldwide"})]})]})]})]})}export{U as RoomManager};
