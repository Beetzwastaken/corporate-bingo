import{u as e,j as s}from"./index-BeRPxCpk.js";import{r as t}from"./store-Dy63wBAT.js";import"./vendor-HnKmhvXM.js";function a(){const[a,l]=t.useState(""),[n,c]=t.useState(""),[r,i]=t.useState(""),[d,x]=t.useState(""),{currentRoom:m,currentPlayer:o,playerName:p,isConnecting:h,isConnected:u,connectionError:j,setPlayerName:N,createRoom:b,joinRoom:f,leaveRoom:y}=e();t.useEffect(()=>{!r&&p&&i(p)},[p,r]);const v=()=>{const e=r.trim();e.length>=2&&e.length<=30?(N(e),x("")):x("Name must be 2-30 characters")},g=async()=>{if(!a.trim())return void x("Room name is required");if(!p)return void x("Set your name first");x("");const e=await b(a.trim());e.success?l(""):x(e.error||"Could not create room")},w=async()=>{if(!n.trim())return void x("Room code is required");if(!(e=>{const s=e.trim().toUpperCase();return/^[A-Z0-9]{6}$/.test(s)})(n))return void x("Code must be 6 characters");if(!p)return void x("Set your name first");x("");const e=await f(n.toUpperCase());e.success?c(""):x(e.error||"Could not join room")};return s.jsxs("div",{className:"p-6 space-y-6",children:[(d||j)&&s.jsx("div",{className:"bg-red-900/20 border border-red-500/30 rounded-lg p-4",children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-4 h-4 rounded-full bg-red-500"}),s.jsx("p",{className:"text-red-300 text-sm font-medium",children:d||j})]})}),!p&&s.jsxs("div",{className:"apple-panel p-6 bg-yellow-900/10 border-yellow-500/30",children:[s.jsx("h2",{className:"text-lg font-semibold text-apple-text mb-3",children:"Player Setup"}),s.jsx("p",{className:"text-apple-secondary text-sm mb-4",children:"Set your name to continue"}),s.jsxs("div",{className:"flex space-x-3",children:[s.jsx("input",{type:"text",value:r,onChange:e=>i(e.target.value),className:"apple-input flex-1",placeholder:"Your name",maxLength:30,onKeyPress:e=>"Enter"===e.key&&v()}),s.jsx("button",{onClick:v,disabled:!r.trim()||h,className:"apple-button",children:"Set Name"})]})]}),m&&s.jsxs("div",{className:"apple-panel p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h2",{className:"text-lg font-semibold text-apple-text",children:"Current Room"}),s.jsx("p",{className:"text-apple-accent font-medium text-lg",children:m.name})]}),s.jsx("button",{onClick:()=>{y(),x("")},disabled:h,className:"px-4 py-2 bg-red-600 hover:bg-red-700 disabled:bg-apple-darkest disabled:cursor-not-allowed text-white rounded-md font-medium transition-colors text-sm",children:"Leave"})]}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-apple-secondary",children:"Room Code"}),s.jsx("span",{className:"font-mono text-apple-accent bg-apple-darkest px-3 py-1 rounded-md text-base",children:m.code})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-apple-secondary",children:"Players"}),s.jsxs("span",{className:"text-apple-text",children:[m.players.length,"/",m.maxPlayers||10]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-apple-secondary",children:"Your Name"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-apple-text",children:o?.name}),o?.isHost&&s.jsx("span",{className:"text-yellow-400 text-xs",children:"(Host)"})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"text-apple-secondary",children:"Status"}),s.jsxs("div",{className:"flex items-center space-x-2 "+(u?"text-green-400":"text-red-400"),children:[s.jsx("div",{className:"w-2 h-2 rounded-full "+(u?"bg-green-400":"bg-red-400")}),s.jsx("span",{className:"text-xs",children:u?"Connected":"Offline"})]})]})]}),s.jsxs("div",{className:"mt-6 pt-4 border-t border-apple-border",children:[s.jsxs("h3",{className:"text-sm font-medium text-apple-secondary mb-3",children:["Players (",m.players.length,")"]}),s.jsx("div",{className:"space-y-2",children:m.players.map(e=>s.jsxs("div",{className:"flex items-center justify-between bg-apple-darkest rounded-lg p-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("span",{className:"text-apple-text font-medium text-sm",children:e.name}),e.isHost&&s.jsx("span",{className:"text-yellow-400 text-xs",children:"(Host)"}),e.id===o?.id&&s.jsx("span",{className:"text-apple-accent text-xs",children:"(You)"})]}),s.jsxs("div",{className:"text-xs text-apple-secondary",children:["Score: ",e.currentScore||0]})]}),s.jsx("div",{className:"w-2 h-2 rounded-full "+(e.isConnected?"bg-green-400":"bg-apple-secondary")})]},e.id))})]})]}),!m&&p&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"apple-panel p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-apple-text mb-4",children:"Create Room"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-apple-secondary mb-2",children:"Room Name"}),s.jsx("input",{type:"text",value:a,onChange:e=>l(e.target.value),className:"apple-input w-full",placeholder:"Meeting name",maxLength:50,disabled:h,onKeyPress:e=>"Enter"===e.key&&g()})]}),s.jsx("button",{onClick:g,disabled:!a.trim()||h,className:"apple-button w-full justify-center bg-emerald-600 hover:bg-emerald-700",children:"Create Room"})]})]}),s.jsxs("div",{className:"apple-panel p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-apple-text mb-4",children:"Join Room"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium text-apple-secondary mb-2",children:"Room Code"}),s.jsx("input",{type:"text",value:n,onChange:e=>c(e.target.value.toUpperCase()),className:"apple-input w-full text-center font-mono tracking-wider text-lg",placeholder:"ROOM123",maxLength:6,disabled:h,onKeyPress:e=>"Enter"===e.key&&w()})]}),s.jsx("button",{onClick:w,disabled:!n.trim()||h,className:"apple-button w-full justify-center",children:"Join Room"})]})]})]}),!m&&s.jsxs("div",{className:"apple-panel p-6",children:[s.jsx("h2",{className:"text-lg font-semibold text-apple-text mb-4",children:"Game Features"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-apple-accent/20 rounded-full flex items-center justify-center mx-auto mb-2",children:s.jsx("span",{className:"text-xl",children:"üéØ"})}),s.jsx("h3",{className:"font-medium text-apple-text text-sm mb-1",children:"Unique Boards"}),s.jsx("p",{className:"text-xs text-apple-secondary",children:"Unique cards for each player"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-apple-accent/20 rounded-full flex items-center justify-center mx-auto mb-2",children:s.jsx("span",{className:"text-xl",children:"‚ö°"})}),s.jsx("h3",{className:"font-medium text-apple-text text-sm mb-1",children:"Real-time"}),s.jsx("p",{className:"text-xs text-apple-secondary",children:"Instant synchronization"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-apple-accent/20 rounded-full flex items-center justify-center mx-auto mb-2",children:s.jsx("span",{className:"text-xl",children:"üîï"})}),s.jsx("h3",{className:"font-medium text-apple-text text-sm mb-1",children:"Silent Mode"}),s.jsx("p",{className:"text-xs text-apple-secondary",children:"Play without interrupting"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-12 bg-apple-accent/20 rounded-full flex items-center justify-center mx-auto mb-2",children:s.jsx("span",{className:"text-xl",children:"üåê"})}),s.jsx("h3",{className:"font-medium text-apple-text text-sm mb-1",children:"Global"}),s.jsx("p",{className:"text-xs text-apple-secondary",children:"Low latency worldwide"})]})]})]})]})}export{a as RoomManager};
