import{r as d,g as j}from"./vendor-gH-7aFTg.js";var m=d();const r=j(m),l=t=>{let e;const s=new Set,o=(n,i)=>{const c=typeof n=="function"?n(e):n;if(!Object.is(c,e)){const g=e;e=i??(typeof c!="object"||c===null)?c:Object.assign({},e,c),s.forEach(f=>f(e,g))}},a=()=>e,u={setState:o,getState:a,getInitialState:()=>b,subscribe:n=>(s.add(n),()=>s.delete(n))},b=e=t(o,a,u);return u},x=t=>t?l(t):l,I=t=>t;function p(t,e=I){const s=r.useSyncExternalStore(t.subscribe,r.useCallback(()=>e(t.getState()),[t,e]),r.useCallback(()=>e(t.getInitialState()),[t,e]));return r.useDebugValue(s),s}const S=t=>{const e=x(t),s=o=>p(e,o);return Object.assign(s,e),s},O=t=>t?S(t):S;export{O as c,m as r};
