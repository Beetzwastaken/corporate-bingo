<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EngineerMemes.AI - Professional Engineering Humor</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: {
                            50: '#f0f9ff',
                            500: '#0ea5e9',
                            600: '#0284c7',
                            700: '#0369a1',
                            900: '#0c4a6e'
                        },
                        accent: {
                            500: '#f97316',
                            600: '#ea580c',
                        },
                        pain: {
                            low: '#10b981',
                            med: '#f59e0b', 
                            high: '#ef4444'
                        }
                    },
                    fontFamily: {
                        'display': ['Space Grotesk', 'sans-serif'],
                        'body': ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Space+Grotesk:wght@400;500;600;700&display=swap');
        
        body { 
            font-family: 'Inter', sans-serif; 
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
        }
        
        .pain-meter { 
            background: linear-gradient(to right, #10b981 0%, #f59e0b 50%, #ef4444 100%); 
        }
        
        .glassmorphism {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        
        .card-hover {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .card-hover:hover {
            transform: translateY(-4px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        
        .template-card {
            background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
            border: 2px solid transparent;
            transition: all 0.2s ease;
        }
        
        .template-card:hover {
            border-color: #0ea5e9;
            transform: scale(1.02);
            box-shadow: 0 8px 25px rgba(14, 165, 233, 0.15);
        }
        
        .template-card.selected {
            border-color: #0ea5e9;
            background: linear-gradient(145deg, #f0f9ff 0%, #e0f2fe 100%);
        }

        .pain-input {
            background: linear-gradient(145deg, #ffffff 0%, #f8fafc 100%);
            border: 2px solid #e2e8f0;
            transition: all 0.2s ease;
        }

        .pain-input:focus {
            border-color: #0ea5e9;
            box-shadow: 0 0 0 3px rgba(14, 165, 233, 0.1);
        }

        .btn-primary {
            background: linear-gradient(135deg, #0ea5e9 0%, #0284c7 100%);
            transition: all 0.2s ease;
        }

        .btn-primary:hover {
            background: linear-gradient(135deg, #0284c7 0%, #0369a1 100%);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(14, 165, 233, 0.4);
        }

        .btn-secondary {
            background: linear-gradient(135deg, #f97316 0%, #ea580c 100%);
            transition: all 0.2s ease;
        }

        .btn-secondary:hover {
            background: linear-gradient(135deg, #ea580c 0%, #dc2626 100%);
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(249, 115, 22, 0.4);
        }
    </style>
</head>
    <!-- Modern Header with Hero Section -->
    <header class="relative overflow-hidden bg-gradient-to-br from-primary-900 via-primary-700 to-accent-600 text-white">
        <div class="absolute inset-0 bg-black/20"></div>
        <div class="relative container mx-auto px-4 py-16">
            <div class="text-center max-w-4xl mx-auto">
                <div class="mb-6">
                    <div class="inline-flex items-center justify-center w-20 h-20 bg-white/10 backdrop-blur-sm rounded-full mb-4 border border-white/20">
                        <span class="text-4xl">ü§ñ</span>
                    </div>
                </div>
                <h1 class="font-display text-5xl md:text-6xl font-bold mb-4 bg-gradient-to-r from-white to-blue-100 bg-clip-text text-transparent">
                    EngineerMemes.AI
                </h1>
                <p class="text-xl md:text-2xl text-blue-100 mb-4 font-medium">
                    Because crying is unprofessional
                </p>
                <p class="text-lg text-blue-200 mb-8">
                    Professional Engineering Humor Generator powered by AI
                </p>
                <div class="flex flex-wrap justify-center gap-2 text-sm">
                    <span class="glassmorphism px-4 py-2 rounded-full">üéØ Pain Analysis</span>
                    <span class="glassmorphism px-4 py-2 rounded-full">üé® Smart Templates</span>
                    <span class="glassmorphism px-4 py-2 rounded-full">‚ö° MCP Powered</span>
                </div>
            </div>
        </div>
        <!-- Decorative gradient -->
        <div class="absolute bottom-0 left-0 w-full h-2 bg-gradient-to-r from-accent-500 via-primary-500 to-accent-500"></div>
    </header>

    <div class="container mx-auto px-4 py-12 max-w-7xl">
        <!-- Pain Input Section - Redesigned -->
        <div class="card-hover bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8 mb-8 border border-white/50">
            <div class="text-center mb-8">
                <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-accent-500 to-accent-600 rounded-full mb-4 shadow-lg">
                    <span class="text-2xl">üò§</span>
                </div>
                <h2 class="font-display text-3xl font-bold text-gray-800 mb-2">
                    What's Your Engineering Pain?
                </h2>
                <p class="text-gray-600">Our AI will analyze your suffering and suggest the perfect meme template</p>
            </div>
            
            <div class="max-w-2xl mx-auto">
                <textarea 
                    id="painInput" 
                    class="pain-input w-full p-6 rounded-xl focus:outline-none font-medium text-lg resize-none" 
                    rows="4" 
                    placeholder="e.g., 'Client wants to change the spec after we finished fabrication and testing...'"
                    oninput="analyzePain(this.value)"
                ></textarea>
            
                <!-- Enhanced Pain Meter -->
                <div class="mt-8 p-6 bg-gradient-to-r from-gray-50 to-blue-50 rounded-xl border border-gray-200">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="font-display text-xl font-semibold text-gray-800">Engineering Pain Level</h3>
                        <div class="text-right">
                            <div class="text-3xl font-bold text-primary-600" id="painScore">5/10</div>
                            <div class="text-sm text-gray-500">AI Analysis</div>
                        </div>
                    </div>
                    
                    <div class="relative mb-4">
                        <div class="w-full bg-gray-300 rounded-full h-6 shadow-inner">
                            <div id="painBar" class="h-6 rounded-full pain-meter transition-all duration-700 shadow-sm" style="width: 50%"></div>
                        </div>
                        <div class="absolute inset-0 flex items-center justify-center">
                            <span class="text-xs font-semibold text-white drop-shadow-sm" id="painMessage">Standard engineering suffering</span>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-5 gap-2 text-xs text-center">
                        <div class="flex flex-col items-center">
                            <span class="text-lg mb-1">üòä</span>
                            <span class="text-pain-low font-medium">Zen</span>
                        </div>
                        <div class="flex flex-col items-center">
                            <span class="text-lg mb-1">üòê</span>
                            <span class="text-gray-600 font-medium">Normal</span>
                        </div>
                        <div class="flex flex-col items-center">
                            <span class="text-lg mb-1">üò§</span>
                            <span class="text-pain-med font-medium">Stressed</span>
                        </div>
                        <div class="flex flex-col items-center">
                            <span class="text-lg mb-1">üò´</span>
                            <span class="text-orange-600 font-medium">Crisis</span>
                        </div>
                        <div class="flex flex-col items-center">
                            <span class="text-lg mb-1">ü§Ø</span>
                            <span class="text-pain-high font-medium">Meltdown</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Meme Templates Section - Redesigned -->
        <div class="card-hover bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8 mb-8 border border-white/50">
            <div class="text-center mb-8">
                <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full mb-4 shadow-lg">
                    <span class="text-2xl">üé≠</span>
                </div>
                <h2 class="font-display text-3xl font-bold text-gray-800 mb-2">
                    Choose Your Weapon
                </h2>
                <p class="text-gray-600">Select the perfect template to express your engineering suffering</p>
            </div>
            
            <div class="grid grid-cols-2 lg:grid-cols-4 gap-6" id="templates">
                <!-- Templates will be populated by JavaScript -->
            </div>
        </div>

        <!-- Meme Generator - Redesigned -->
        <div class="grid grid-cols-1 xl:grid-cols-5 gap-8">
            <!-- Text Input -->
            <div class="xl:col-span-2">
                <div class="card-hover bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8 border border-white/50 h-full">
                    <div class="text-center mb-6">
                        <div class="inline-flex items-center justify-center w-12 h-12 bg-gradient-to-br from-accent-500 to-accent-600 rounded-full mb-4 shadow-lg">
                            <span class="text-xl">‚úèÔ∏è</span>
                        </div>
                        <h3 class="font-display text-2xl font-bold text-gray-800 mb-2">
                            Meme Text Editor
                        </h3>
                        <p class="text-gray-600 text-sm">Customize your meme with the perfect engineering pain</p>
                    </div>
                    
                    <div id="textInputs">
                        <!-- Text inputs will be populated by JavaScript -->
                    </div>
                </div>
            </div>

            <!-- Meme Canvas -->
            <div class="xl:col-span-3">
                <div class="card-hover bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8 border border-white/50 h-full">
                    <div class="text-center mb-6">
                        <div class="inline-flex items-center justify-center w-12 h-12 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full mb-4 shadow-lg">
                            <span class="text-xl">üé®</span>
                        </div>
                        <h3 class="font-display text-2xl font-bold text-gray-800 mb-2">
                            Your Suffering, Visualized
                        </h3>
                        <p class="text-gray-600 text-sm mb-6">AI-powered meme generation with professional quality</p>
                    </div>
                    
                    <div class="bg-gradient-to-br from-gray-50 to-blue-50 rounded-xl p-6 mb-6">
                        <canvas id="memeCanvas" width="400" height="400" class="w-full border-2 border-gray-200 rounded-xl shadow-lg bg-white"></canvas>
                    </div>
                    
                    <div class="flex gap-4">
                        <button onclick="generateMeme()" class="btn-primary flex-1 text-white px-6 py-4 rounded-xl font-semibold text-lg shadow-lg">
                            üöÄ Generate Meme
                        </button>
                        <button onclick="downloadMeme()" class="btn-secondary text-white px-6 py-4 rounded-xl font-semibold shadow-lg">
                            üíæ Download
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Features Section - Redesigned -->
        <div class="mt-16 mb-12">
            <div class="text-center mb-12">
                <h2 class="font-display text-4xl font-bold text-gray-800 mb-4">
                    Why Engineers Choose Us
                </h2>
                <p class="text-xl text-gray-600 max-w-2xl mx-auto">
                    Professional-grade humor generation built specifically for engineering professionals
                </p>
            </div>
            
            <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
                <div class="card-hover bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8 border border-white/50 text-center">
                    <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary-500 to-primary-600 rounded-full mb-6 shadow-lg">
                        <span class="text-3xl">ü§ñ</span>
                    </div>
                    <h3 class="font-display text-xl font-bold text-gray-800 mb-3">AI-Powered Analysis</h3>
                    <p class="text-gray-600">Advanced natural language processing analyzes your engineering pain with 200+ industry-specific keywords</p>
                </div>
                
                <div class="card-hover bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8 border border-white/50 text-center">
                    <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-accent-500 to-accent-600 rounded-full mb-6 shadow-lg">
                        <span class="text-3xl">‚öôÔ∏è</span>
                    </div>
                    <h3 class="font-display text-xl font-bold text-gray-800 mb-3">Engineering Focused</h3>
                    <p class="text-gray-600">Templates and humor specifically designed for mechanical, software, electrical, and civil engineering professionals</p>
                </div>
                
                <div class="card-hover bg-white/80 backdrop-blur-sm rounded-2xl shadow-xl p-8 border border-white/50 text-center">
                    <div class="inline-flex items-center justify-center w-16 h-16 bg-gradient-to-br from-primary-500 to-accent-500 rounded-full mb-6 shadow-lg">
                        <span class="text-3xl">üöÄ</span>
                    </div>
                    <h3 class="font-display text-xl font-bold text-gray-800 mb-3">MCP Enhanced</h3>
                    <p class="text-gray-600">Powered by Model Context Protocol servers and autonomous AI agents for professional-grade results</p>
                </div>
            </div>
        </div>
    </div>

    <!-- Modern Footer -->
    <footer class="relative bg-gradient-to-br from-gray-900 via-gray-800 to-primary-900 text-white overflow-hidden">
        <div class="absolute inset-0 bg-black/20"></div>
        <div class="relative container mx-auto px-4 py-12">
            <div class="text-center max-w-3xl mx-auto">
                <div class="mb-8">
                    <div class="inline-flex items-center justify-center w-16 h-16 bg-white/10 backdrop-blur-sm rounded-full mb-4 border border-white/20">
                        <span class="text-2xl">ü§ñ</span>
                    </div>
                    <h3 class="font-display text-2xl font-bold mb-2">EngineerMemes.AI</h3>
                    <p class="text-gray-300 text-lg mb-6">Made with üòÖ by engineers, for engineers</p>
                </div>
                
                <div class="grid grid-cols-1 md:grid-cols-3 gap-8 mb-8 text-sm">
                    <div>
                        <h4 class="font-semibold text-white mb-3">Autonomous Agents</h4>
                        <ul class="space-y-1 text-gray-300">
                            <li>‚Ä¢ Template Generator</li>
                            <li>‚Ä¢ Pain Analyzer</li>
                            <li>‚Ä¢ Quality Controller</li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-semibold text-white mb-3">MCP Servers</h4>
                        <ul class="space-y-1 text-gray-300">
                            <li>‚Ä¢ SVGMaker Integration</li>
                            <li>‚Ä¢ OpenCV Processing</li>
                            <li>‚Ä¢ Analytics Engine</li>
                        </ul>
                    </div>
                    <div>
                        <h4 class="font-semibold text-white mb-3">Engineering Disciplines</h4>
                        <ul class="space-y-1 text-gray-300">
                            <li>‚Ä¢ Software Engineering</li>
                            <li>‚Ä¢ Mechanical Engineering</li>
                            <li>‚Ä¢ Electrical & Civil</li>
                        </ul>
                    </div>
                </div>
                
                <div class="border-t border-white/10 pt-6">
                    <p class="text-gray-400 text-sm">
                        Professional Suffering Solutions Since 2025 ‚Ä¢ MCP-Powered ‚Ä¢ Claude Code Optimized
                    </p>
                    <p class="text-gray-500 text-xs mt-2">
                        Helping engineers cope with their daily technical suffering through the power of AI-generated humor
                    </p>
                </div>
            </div>
        </div>
    </footer>

    <script>
        // Engineering Meme Generator - Professional JavaScript Implementation
        
        let currentTemplate = null;
        let currentPainScore = 5;
        let generatedMemes = [];

        // Engineering-specific pain keywords and scoring
        const painKeywords = {
            high: ['deadline', 'urgent', 'asap', 'broken', 'failed', 'disaster', 'emergency', 'critical'],
            medium: ['change', 'modify', 'meeting', 'review', 'delay', 'client', 'scope'],
            low: ['working', 'progress', 'complete', 'success', 'fixed', 'approved']
        };

        // Meme templates with engineering themes
        const memeTemplates = [
            {
                id: 'drake',
                name: 'Drake Choice',
                category: 'general',
                textAreas: [
                    { id: 'reject', placeholder: 'Following the spec', x: 50, y: 25 },
                    { id: 'accept', placeholder: 'Client changes everything', x: 50, y: 75 }
                ]
            },
            {
                id: 'this-is-fine',
                name: 'This is Fine',
                category: 'general',
                textAreas: [
                    { id: 'top', placeholder: 'Production is down', x: 50, y: 20 },
                    { id: 'bottom', placeholder: 'This is fine', x: 50, y: 80 }
                ]
            },
            {
                id: 'two-buttons',
                name: 'Two Buttons',
                category: 'general',
                textAreas: [
                    { id: 'button1', placeholder: 'Fix the bug properly', x: 25, y: 30 },
                    { id: 'button2', placeholder: 'Quick hotfix to prod', x: 75, y: 30 }
                ]
            },
            {
                id: 'distracted',
                name: 'Distracted Engineer',
                category: 'software',
                textAreas: [
                    { id: 'girlfriend', placeholder: 'Current project', x: 25, y: 70 },
                    { id: 'boyfriend', placeholder: 'Me', x: 50, y: 80 },
                    { id: 'other_woman', placeholder: 'New shiny framework', x: 75, y: 60 }
                ]
            }
        ];

        // Initialize the app
        function initApp() {
            renderTemplates();
            selectTemplate(memeTemplates[0]);
            updateCanvas();
        }

        // Analyze engineering pain level
        function analyzePain(input) {
            if (!input.trim()) {
                updatePainScore(5);
                return;
            }

            const lower = input.toLowerCase();
            let score = 5;

            painKeywords.high.forEach(keyword => {
                if (lower.includes(keyword)) score += 2;
            });
            
            painKeywords.medium.forEach(keyword => {
                if (lower.includes(keyword)) score += 1;
            });
            
            painKeywords.low.forEach(keyword => {
                if (lower.includes(keyword)) score -= 1;
            });

            score = Math.max(1, Math.min(10, Math.round(score)));
            updatePainScore(score);
        }

        // Update pain score display
        function updatePainScore(score) {
            currentPainScore = score;
            const scoreElement = document.getElementById('painScore');
            const barElement = document.getElementById('painBar');
            const messageElement = document.getElementById('painMessage');

            scoreElement.textContent = score + '/10';
            barElement.style.width = (score * 10) + '%';

            const messages = {
                1: 'Mild engineering annoyance',
                2: 'Slight project turbulence',
                3: 'Minor technical hiccup', 
                4: 'Standard development friction',
                5: 'Typical engineering suffering',
                6: 'Elevated stress protocols',
                7: 'Approaching critical pain levels',
                8: 'High-stress engineering zone',
                9: 'MAXIMUM SUFFERING DETECTED',
                10: 'ENGINEERING EMERGENCY STATE'
            };

            messageElement.textContent = messages[score] || 'Unknown pain level';
        }

        // Render meme templates
        function renderTemplates() {
            const container = document.getElementById('templates');
            container.innerHTML = memeTemplates.map((template, index) => 
                `<div onclick="selectTemplate(${JSON.stringify(template).replace(/"/g, '&quot;')})" 
                      class="template-card cursor-pointer p-6 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300" id="template-${template.id}">
                    <div class="flex flex-col items-center">
                        <div class="w-20 h-20 bg-gradient-to-br from-gray-100 to-blue-100 rounded-xl mb-4 flex items-center justify-center text-3xl shadow-inner">
                            ${getTemplateIcon(template.category)}
                        </div>
                        <h4 class="font-display text-lg font-semibold text-center text-gray-800 mb-2">${template.name}</h4>
                        <p class="text-sm text-gray-500 text-center capitalize font-medium">${template.category}</p>
                        <div class="mt-3 px-3 py-1 bg-gray-100 rounded-full text-xs text-gray-600">
                            ${template.textAreas.length} text ${template.textAreas.length === 1 ? 'area' : 'areas'}
                        </div>
                    </div>
                </div>`
            ).join('');
        }

        // Get template icon
        function getTemplateIcon(category) {
            const icons = {
                general: 'üé≠',
                software: 'üíª', 
                mechanical: '‚öôÔ∏è',
                electrical: '‚ö°',
                civil: 'üèóÔ∏è',
                chemical: 'üß™'
            };
            return icons[category] || 'üéØ';
        }

        // Select a template
        function selectTemplate(template) {
            currentTemplate = template;
            
            // Update active template styling
            document.querySelectorAll('.template-card').forEach(el => {
                el.classList.remove('selected', 'ring-2', 'ring-primary-500');
            });
            
            const selectedCard = document.getElementById(`template-${template.id}`);
            if (selectedCard) {
                selectedCard.classList.add('selected', 'ring-2', 'ring-primary-500');
            }
            
            // Render text inputs
            renderTextInputs();
            updateCanvas();
        }

        // Render text input fields
        function renderTextInputs() {
            const container = document.getElementById('textInputs');
            if (!currentTemplate) {
                container.innerHTML = `
                    <div class="text-center py-12">
                        <div class="text-4xl mb-4">üéØ</div>
                        <h4 class="font-display text-lg font-semibold text-gray-600 mb-2">Select a Template</h4>
                        <p class="text-gray-500 text-sm">Choose a meme template above to start customizing your engineering humor</p>
                    </div>
                `;
                return;
            }

            container.innerHTML = currentTemplate.textAreas.map((area, index) => 
                `<div class="mb-6">
                    <label class="block font-display text-base font-semibold text-gray-800 mb-3 flex items-center">
                        <span class="inline-flex items-center justify-center w-6 h-6 bg-gradient-to-br from-primary-500 to-primary-600 text-white text-xs rounded-full mr-2">${index + 1}</span>
                        ${getAreaLabel(area.id)}
                    </label>
                    <div class="relative">
                        <input 
                            type="text" 
                            id="text_${area.id}"
                            placeholder="${area.placeholder}"
                            class="pain-input w-full p-4 rounded-xl focus:outline-none font-medium border-0 text-base"
                            oninput="updateCanvas()"
                            maxlength="100"
                        />
                        <div class="absolute right-3 top-1/2 transform -translate-y-1/2 text-xs text-gray-400">
                            <span id="char-count-${area.id}">0</span>/100
                        </div>
                    </div>
                </div>`
            ).join('');
            
            // Add character count listeners
            currentTemplate.textAreas.forEach(area => {
                const input = document.getElementById(`text_${area.id}`);
                const counter = document.getElementById(`char-count-${area.id}`);
                if (input && counter) {
                    input.addEventListener('input', () => {
                        counter.textContent = input.value.length;
                        if (input.value.length > 80) {
                            counter.classList.add('text-orange-500');
                        } else {
                            counter.classList.remove('text-orange-500');
                        }
                    });
                }
            });
        }

        // Get area label
        function getAreaLabel(areaId) {
            const labels = {
                top: 'Top Text',
                bottom: 'Bottom Text', 
                reject: 'Reject/No',
                accept: 'Accept/Yes',
                button1: 'Button 1',
                button2: 'Button 2',
                girlfriend: 'Current Thing',
                boyfriend: 'Person',
                other_woman: 'New Thing'
            };
            return labels[areaId] || 'Text';
        }

        // Update canvas
        function updateCanvas() {
            const canvas = document.getElementById('memeCanvas');
            const ctx = canvas.getContext('2d');
            
            // Clear canvas
            ctx.fillStyle = '#f8fafc';
            ctx.fillRect(0, 0, canvas.width, canvas.height);
            
            // Draw border
            ctx.strokeStyle = '#e2e8f0';
            ctx.lineWidth = 2;
            ctx.strokeRect(0, 0, canvas.width, canvas.height);

            if (!currentTemplate) return;

            // Draw template background
            ctx.fillStyle = '#ffffff';
            ctx.fillRect(10, 10, canvas.width - 20, canvas.height - 20);

            // Draw template indicator
            ctx.fillStyle = '#3b82f6';
            ctx.font = 'bold 16px Inter';
            ctx.textAlign = 'center';
            ctx.fillText(currentTemplate.name.toUpperCase(), canvas.width / 2, 30);

            // Draw text areas
            currentTemplate.textAreas.forEach(area => {
                const input = document.getElementById('text_' + area.id);
                const text = input ? input.value || area.placeholder : area.placeholder;
                
                const x = (area.x / 100) * canvas.width;
                const y = (area.y / 100) * canvas.height;
                
                // Set text style
                ctx.font = 'bold 24px Impact, Arial Black';
                ctx.textAlign = 'center';
                ctx.textBaseline = 'middle';
                
                // Draw text stroke
                ctx.strokeStyle = '#000000';
                ctx.lineWidth = 3;
                ctx.strokeText(text, x, y);
                
                // Draw text fill
                ctx.fillStyle = '#ffffff';
                ctx.fillText(text, x, y);
            });

            // Add pain level indicator
            ctx.fillStyle = '#6b7280';
            ctx.font = '12px Inter';
            ctx.textAlign = 'right';
            ctx.fillText(`Pain Level: ${currentPainScore}/10`, canvas.width - 10, canvas.height - 10);
        }

        // Generate meme (just update canvas for now)
        function generateMeme() {
            updateCanvas();
            
            // Add generation timestamp
            const canvas = document.getElementById('memeCanvas');
            const ctx = canvas.getContext('2d');
            
            ctx.fillStyle = '#10b981';
            ctx.font = '10px Inter';
            ctx.textAlign = 'left';
            ctx.fillText(`Generated: ${new Date().toLocaleTimeString()}`, 10, canvas.height - 10);
            
            // Store in memory
            const texts = {};
            if (currentTemplate) {
                currentTemplate.textAreas.forEach(area => {
                    const input = document.getElementById('text_' + area.id);
                    texts[area.id] = input ? input.value : area.placeholder;
                });
            }
            
            generatedMemes.push({
                id: Date.now(),
                template: currentTemplate?.name || 'Unknown',
                texts: texts,
                painScore: currentPainScore,
                timestamp: new Date(),
                dataUrl: canvas.toDataURL('image/png')
            });

            // Show success feedback
            const button = event.target;
            const originalText = button.textContent;
            button.textContent = '‚úÖ Generated!';
            button.classList.add('bg-green-600');
            setTimeout(() => {
                button.textContent = originalText;
                button.classList.remove('bg-green-600');
            }, 2000);
        }

        // Download meme
        function downloadMeme() {
            const canvas = document.getElementById('memeCanvas');
            const link = document.createElement('a');
            link.download = `engineering-meme-${Date.now()}.png`;
            link.href = canvas.toDataURL('image/png');
            link.click();
        }

        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', initApp);
        
        // Console easter egg for engineers
        console.log('ü§ñ EngineerMemes.AI v1.0.0');
        console.log('Professional Engineering Humor Generator');
        console.log('Powered by: MCP Servers + Autonomous AI Agents');
        console.log('Pain Analysis: ‚úÖ | Template Generation: ‚úÖ | Quality Control: ‚úÖ');
        console.log('Made with üòÖ by engineers, for engineers');
    </script>
</body>
</html>